<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" styleClass="scroll-pane" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.gui.BookDetailControllerGUI">
    
    <content>
        <VBox spacing="30">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" />
            </padding>
            
            <!-- Contenitore dettagli libro -->
            <HBox alignment="TOP_LEFT" maxWidth="1200" spacing="40">
                
                <!-- Copertina -->
                <VBox alignment="TOP_CENTER" maxWidth="-Infinity" minWidth="-Infinity" prefWidth="200.0" spacing="15">
                  
                    <!-- Pulsante indietro -->
                    <Button fx:id="backButton" onAction="#handleBack" styleClass="back-button" text="← Torna Indietro" />
                    <VBox alignment="CENTER" prefHeight="370" prefWidth="250" styleClass="book-cover">
                        <ImageView fx:id="coverImage" fitWidth="250" preserveRatio="true" />
                    </VBox>
                </VBox>
                
                <!-- Informazioni libro -->
                <VBox spacing="20" HBox.hgrow="ALWAYS">
                    
                    <!-- Titolo e Autore -->
                    <VBox spacing="8">
                        <Label fx:id="titleLabel" styleClass="detail-title" />
                        <Label fx:id="authorLabel" styleClass="detail-author" />
                    </VBox>
                    
                    <Separator />
                    
                    <!-- Dettagli pubblicazione -->
                    <VBox spacing="12">
                        <HBox spacing="10">
                            <Label minWidth="120" styleClass="detail-label" text="Genere:" />
                            <Label fx:id="genreLabel" styleClass="detail-value" />
                        </HBox>
                        
                        <HBox spacing="10">
                            <Label minWidth="120" styleClass="detail-label" text="Anno:" />
                            <Label fx:id="yearLabel" styleClass="detail-value" />
                        </HBox>
                        
                        <HBox spacing="10">
                            <Label minWidth="120" styleClass="detail-label" text="Editore:" />
                            <Label fx:id="publisherLabel" styleClass="detail-value" />
                        </HBox>
                        
                        <HBox spacing="10">
                            <Label minWidth="120" styleClass="detail-label" text="Pagine:" />
                            <Label fx:id="pagesLabel" styleClass="detail-value" />
                        </HBox>
                        
                        <HBox spacing="10">
                            <Label minWidth="120" styleClass="detail-label" text="ISBN:" />
                            <Label fx:id="isbnLabel" styleClass="detail-value" />
                        </HBox>
                        
                        <HBox spacing="10">
                            <Label minWidth="120" styleClass="detail-label" text="Disponibilità:" />
                            <Label fx:id="availabilityLabel" style="-fx-text-fill: #4a7c59; -fx-font-weight: bold;" styleClass="detail-value" />
                        </HBox>
                    </VBox>
                    
                    <Separator />
                    
                    <!-- Trama -->
                    <VBox spacing="10">
                        <Label style="-fx-font-size: 18px;" styleClass="detail-label" text="Trama" />
                        <Label fx:id="plotLabel" styleClass="plot-text" wrapText="true" />
                    </VBox>
                    
                    <Separator />
                    
                    <!-- Box Acquisto/Prestito -->
                    <VBox spacing="20" styleClass="action-box">
                        
                        <Label styleClass="action-title" text="Prendi il libro" />
                        
                        <!-- Selezione quantità -->
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <Label styleClass="detail-label" text="Quantità:" />
                            <Spinner fx:id="quantitySpinner" editable="true" initialValue="1" max="5" min="1" prefWidth="100" styleClass="spinner" />
                        </HBox>
                        
                        <!-- Pulsanti azione -->
                        <HBox spacing="15">
                            <!-- AGGIUNGI fx:id a questi pulsanti -->
                            <Button fx:id="buyButton" onAction="#handleBuy" prefWidth="200" styleClass="buy-button" text="Compra Ora" />
                            <Button fx:id="borrowButton" onAction="#handleBorrow" prefWidth="200" styleClass="borrow-button" text="Prendi in Prestito" />
                        </HBox>
                        
                        <!-- Info prestito -->
                        <Label style="-fx-font-size: 12px; -fx-text-fill: #8b7355;" styleClass="detail-value" text="Prestito gratuito per 30 giorni" />
                        
                    </VBox>
                    
                </VBox>
                
            </HBox>
            
        </VBox>
    </content>
</ScrollPane>